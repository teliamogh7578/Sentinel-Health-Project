<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Health Sentinel | Login</title>
<style>
  *{box-sizing:border-box;margin:0;padding:0;}
  body{
    font-family:"Poppins","Segoe UI",Roboto,Arial,sans-serif;
    background:radial-gradient(circle at 20% 20%,#1c1c1c 0%,#0a0a0a 80%);
    color:#fff;
    min-height:100vh;
    display:flex;flex-direction:column;align-items:center;justify-content:center;
    overflow:hidden;position:relative;
  }
  body::before{
    content:"";position:absolute;inset:0;
    background-image:radial-gradient(rgba(255,0,0,0.06) 1px,transparent 1px);
    background-size:45px 45px;pointer-events:none;
  }
  body::after{
    content:"";position:absolute;top:50%;left:50%;
    transform:translate(-50%,-50%);
    width:700px;height:700px;
    background:radial-gradient(circle,rgba(255,0,0,0.12) 0%,transparent 70%);
    filter:blur(80px);z-index:0;
  }
  .brand{font-size:2.4rem;font-weight:700;text-transform:uppercase;color:#ff4d4d;letter-spacing:1px;margin-bottom:2rem;z-index:1;}
  .container{
    background:linear-gradient(145deg,rgba(255,255,255,0.08),rgba(255,0,0,0.05));
    backdrop-filter:blur(25px);
    border:1px solid rgba(255,0,0,0.2);
    border-radius:24px;
    box-shadow:0 0 50px rgba(0,0,0,0.5);
    padding:3rem;width:100%;max-width:480px;
    transition:0.3s;z-index:1;
  }
  .container:hover{transform:translateY(-4px);box-shadow:0 0 60px rgba(255,0,0,0.15);}
  .tabs{display:flex;justify-content:space-around;border-bottom:1px solid rgba(255,255,255,0.25);margin-bottom:2rem;}
  .tab-button{
    flex:1;padding:1rem;background:transparent;border:none;
    color:rgba(255,255,255,0.7);font-size:1.2rem;font-weight:600;
    cursor:pointer;position:relative;transition:color 0.3s;
  }
  .tab-button:hover{color:#fff;}
  .tab-button.active{color:#ff4d4d;}
  .tab-button.active::after{
    content:"";position:absolute;bottom:-2px;left:25%;
    width:50%;height:3px;background:#ff4d4d;border-radius:2px;
  }
  .form{display:none;flex-direction:column;gap:1.2rem;animation:fadeIn 0.4s ease;}
  .form.active{display:flex;}
  .form h2{text-align:center;font-weight:600;margin-bottom:0.5rem;color:#fff;}
  .form input{
    padding:1rem;border:1px solid rgba(255,255,255,0.25);
    border-radius:10px;background:rgba(255,255,255,0.1);
    color:#fff;font-size:1.05rem;outline:none;transition:0.3s;
  }
  .form input::placeholder{color:rgba(255,255,255,0.6);}
  .form input:focus{border-color:#ff4d4d;box-shadow:0 0 6px rgba(255,77,77,0.3);}
  .form button{
    padding:1rem;border:none;border-radius:10px;background:#ff4d4d;
    color:#fff;font-size:1.05rem;font-weight:600;cursor:pointer;transition:0.3s;
  }
  .form button:hover{background:#e63a3a;}
  #error-message{
    background:rgba(255,0,0,0.25);color:#ffc4c4;
    padding:0.8rem;border-radius:6px;text-align:center;display:none;font-size:0.95rem;
  }

  /* --- Google Button --- */
  .divider{display:flex;align-items:center;justify-content:center;gap:0.5rem;margin:1rem 0;color:rgba(255,255,255,0.5);}
  .divider::before,.divider::after{content:"";flex:1;height:1px;background:rgba(255,255,255,0.2);}
  .google-btn{
    display:flex;align-items:center;justify-content:center;gap:0.6rem;
    background:#fff;color:#000;border:none;border-radius:8px;
    font-weight:600;font-size:1rem;padding:0.9rem;cursor:pointer;
    transition:background 0.3s;width:100%;
  }
  .google-btn:hover{background:#f2f2f2;}
  .google-btn img{width:20px;height:20px;}

  footer{margin-top:3rem;font-size:0.8rem;color:rgba(255,255,255,0.5);z-index:1;}

  @keyframes fadeIn{from{opacity:0;transform:translateY(10px);}to{opacity:1;transform:translateY(0);}}
  @media(max-width:500px){.container{max-width:90%;padding:2rem 1.5rem;}.brand{font-size:1.9rem;}}
</style>
</head>
<body>
  <div class="brand">Health Sentinel</div>

  <div class="container">
    <div class="tabs">
      <button class="tab-button active" id="login-tab">Login</button>
      <button class="tab-button" id="signup-tab">Sign Up</button>
    </div>

    <form id="login-form" class="form active">
      <h2>Welcome Back</h2>
      <input type="email" id="login-email" placeholder="Email" required />
      <input type="password" id="login-password" placeholder="Password" required />
      <button type="submit">Login</button>
      <div class="divider">or</div>
      <button type="button" class="google-btn" id="google-login">
        <img src="https://www.svgrepo.com/show/355037/google.svg" alt="Google icon"> Sign in with Google
      </button>
    </form>

    <form id="signup-form" class="form">
      <h2>Create Account</h2>
      <input type="email" id="signup-email" placeholder="Email" required />
      <input type="password" id="signup-password" placeholder="Password (min. 6 chars)" required />
      <button type="submit">Sign Up</button>
      <div class="divider">or</div>
      <button type="button" class="google-btn" id="google-signup">
        <img src="https://www.svgrepo.com/show/355037/google.svg" alt="Google icon"> Sign up with Google
      </button>
    </form>

    <p id="error-message"></p>
  </div>

  <footer>© 2025 Health Sentinel — All Rights Reserved</footer>

  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
  <script>
    const firebaseConfig = {
      apiKey:"AIzaSyBaC0PXnf24HcI3tl4WXPlP7pfYrx6MpsI",
      authDomain:"sentinel-health-project-2cd2c.firebaseapp.com",
      projectId:"sentinel-health-project-2cd2c",
      storageBucket:"sentinel-health-project-2cd2c.firebasestorage.app",
      messagingSenderId:"958692531733",
      appId:"1:958692531733:web:3af450ed02a2e8918f381c",
      measurementId:"G-96EWLW1DN6"
    };
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const provider = new firebase.auth.GoogleAuthProvider();

    const loginForm = document.getElementById("login-form");
    const signupForm = document.getElementById("signup-form");
    const errorMessage = document.getElementById("error-message");
    const loginTab = document.getElementById("login-tab");
    const signupTab = document.getElementById("signup-tab");

    loginTab.onclick = () => switchForm("login");
    signupTab.onclick = () => switchForm("signup");
    function switchForm(type){
      const isLogin = type === "login";
      loginTab.classList.toggle("active", isLogin);
      signupTab.classList.toggle("active", !isLogin);
      loginForm.classList.toggle("active", isLogin);
      signupForm.classList.toggle("active", !isLogin);
      errorMessage.style.display = "none";
    }

    // Email/Password Signup & Login
    signupForm.onsubmit = (e) => {
      e.preventDefault();
      const email = signupForm["signup-email"].value;
      const pass = signupForm["signup-password"].value;
      auth.createUserWithEmailAndPassword(email, pass)
        .then(u => goToDashboard(u.user))
        .catch(err => showError(err.message));
    };
    loginForm.onsubmit = (e) => {
      e.preventDefault();
      const email = loginForm["login-email"].value;
      const pass = loginForm["login-password"].value;
      auth.signInWithEmailAndPassword(email, pass)
        .then(u => goToDashboard(u.user))
        .catch(err => showError(err.message));
    };

    // Google Login
    document.getElementById("google-login").onclick = googleSignIn;
    document.getElementById("google-signup").onclick = googleSignIn;
    function googleSignIn(){
      auth.signInWithPopup(provider)
        .then(result => goToDashboard(result.user))
        .catch(err => showError(err.message));
    }

    function goToDashboard(user){
      user.getIdToken(true).then(token =>{
        sessionStorage.setItem("firebaseIdToken", token);
        window.location.href = "dashboard.html";
      }).catch(()=>showError("Could not get login token. Please try again."));
    }
    function showError(msg){
      errorMessage.textContent = msg;
      errorMessage.style.display = "block";
    }
  </script>
</body>
</html>